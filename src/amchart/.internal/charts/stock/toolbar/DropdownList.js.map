{"version":3,"file":"DropdownList.js","sourceRoot":"","sources":["../../../../../../../src/.internal/charts/stock/toolbar/DropdownList.ts"],"names":[],"mappings":"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","sourcesContent":["import { Dropdown, IDropdownSettings, IDropdownPrivate, IDropdownEvents } from \"./Dropdown\"\r\n//import type { IDisposer } from \"../../../core/util/Disposer\";\r\n\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n\r\nexport interface IDropdownListItem {\r\n\tid: string;\r\n\tlabel: string;\r\n\tsubLabel?: string;\r\n\tclassName?: string;\r\n\ticon?: SVGElement;\r\n\tform?: \"radio\" | \"checkbox\";\r\n\tvalue?: string;\r\n\tchecked?: boolean;\r\n\toptions?: IDropdownListItem[];\r\n\tdisabled?: boolean;\r\n}\r\n\r\nexport interface IDropdownListSettings extends IDropdownSettings {\r\n\titems?: IDropdownListItem[];\r\n\tmaxSearchItems?: number;\r\n\tsearchable?: boolean;\r\n\tsearchCallback?: (query: string) => Promise<IDropdownListItem[]>;\r\n}\r\n\r\n\r\nexport interface IDropdownListPrivate extends IDropdownPrivate {\r\n\tlist?: HTMLUListElement;\r\n\tsearch?: HTMLDivElement;\r\n\tcurrentId?: string;\r\n}\r\n\r\nexport interface IDropdownListEvents extends IDropdownEvents {\r\n\tinvoked: {\r\n\t\titem: IDropdownListItem;\r\n\t};\r\n\r\n\tchanged: {\r\n\t\titem: IDropdownListItem;\r\n\t\tvalue: string | boolean;\r\n\t}\r\n}\r\n\r\n/**\r\n * A dropdown control for [[StockToolbar]].\r\n */\r\nexport class DropdownList extends Dropdown {\r\n\tpublic static className: string = \"DropdownList\";\r\n\tpublic static classNames: Array<string> = Dropdown.classNames.concat([DropdownList.className]);\r\n\r\n\tdeclare public _settings: IDropdownListSettings;\r\n\tdeclare public _privateSettings: IDropdownListPrivate;\r\n\tdeclare public _events: IDropdownListEvents;\r\n\r\n\t// private _itemDisposers: Array<IDisposer> = [];\r\n\r\n\tprotected _afterNew() {\r\n\t\tsuper._afterNew();\r\n\t\tthis._root.addDisposer(this);\r\n\t}\r\n\r\n\tprotected _initElements(): void {\r\n\t\tsuper._initElements();\r\n\r\n\t\t// Create container\r\n\t\tconst container = this.getPrivate(\"container\")!;\r\n\r\n\t\t// Init search\r\n\t\tif (this.get(\"searchable\")) {\r\n\t\t\tthis._initSearch();\r\n\t\t}\r\n\r\n\t\t// Create list\r\n\t\tconst list = document.createElement(\"ul\");\r\n\t\tlist.className = \"am5stock-control-list\";\r\n\r\n\t\tcontainer.appendChild(list);\r\n\t\tthis.setPrivate(\"list\", list);\r\n\r\n\t\tthis._initItems();\r\n\t}\r\n\r\n\tprotected _sizeItems(): void {\r\n\t\tconst list = this.getPrivate(\"list\");\r\n\t\tif (list) {\r\n\t\t\tlist.style.maxHeight = (this.root.container.height() - 100) + \"px\";\r\n\t\t\tlist.style.overflow = \"auto\";\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _initItems(items?: IDropdownListItem[]): void {\r\n\t\tconst list = this.getPrivate(\"list\")!;\r\n\t\tlist.innerHTML = \"\";\r\n\r\n\t\tif (!items) {\r\n\t\t\titems = this.get(\"items\", []);\r\n\t\t}\r\n\t\t$array.each(items, (item) => {\r\n\t\t\tthis.addItem(item);\r\n\t\t});\r\n\r\n\t\tif (this.get(\"scrollable\")) {\r\n\t\t\tthis._sizeItems();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _initSearch(): void {\r\n\t\tlet searchBox = this.getPrivate(\"search\");\r\n\t\tif (this.get(\"searchable\")) {\r\n\t\t\tif (!searchBox) {\r\n\t\t\t\tconst container = this.getPrivate(\"container\")!;\r\n\t\t\t\tsearchBox = document.createElement(\"div\");\r\n\t\t\t\tsearchBox.className = \"am5stock-list-search\";\r\n\t\t\t\tcontainer.appendChild(searchBox);\r\n\t\t\t\tthis.setPrivate(\"search\", searchBox);\r\n\r\n\t\t\t\tconst input = document.createElement(\"input\");\r\n\t\t\t\tinput.type = \"text\";\r\n\t\t\t\tinput.placeholder = this._root.language.translateAny(\"Search\");\r\n\t\t\t\tsearchBox.appendChild(input);\r\n\r\n\t\t\t\tthis._disposers.push($utils.addEventListener(input, \"input\", (_ev) => {\r\n\t\t\t\t\tthis._filterItems(input.value);\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (searchBox) {\r\n\t\t\tsearchBox.style.display = \"none\";\r\n\t\t}\r\n\t}\r\n\r\n\tpublic _beforeChanged() {\r\n\t\tsuper._beforeChanged();\r\n\r\n\t\tif (this.isDirty(\"items\")) {\r\n\t\t\tthis._initItems();\r\n\t\t}\r\n\r\n\t\tif (this.isDirty(\"searchable\")) {\r\n\t\t\tthis._initSearch();\r\n\t\t}\r\n\r\n\t\tif (this.isPrivateDirty(\"currentId\")) {\r\n\t\t\t// @todo\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprotected _dispose(): void {\r\n\t\tsuper._dispose();\r\n\r\n\t\t// $array.each(this._itemDisposers, (x) => {\r\n\t\t// \tx.dispose();\r\n\t\t// });\r\n\t}\r\n\r\n\tprotected async _filterItems(search?: string) {\r\n\t\tconst searchCallback = this.get(\"searchCallback\");\r\n\t\tif (searchCallback && search) {\r\n\t\t\tconst maxItems = this.get(\"maxSearchItems\", 1000);\r\n\t\t\tlet items = await searchCallback.call(this, search);\r\n\t\t\tif (maxItems && (items.length > maxItems)) {\r\n\t\t\t\titems = items.slice(0, maxItems - 1);\r\n\t\t\t\titems.push({\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\tclassName: \"am5stock-list-info\",\r\n\t\t\t\t\tlabel: this._root.language.translateAny(\"Search results are limited to %1.\", undefined, \"\" + maxItems)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis._initItems(items);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconst list = this.getPrivate(\"list\");\r\n\t\t\tif (list) {\r\n\t\t\t\tconst items = list.getElementsByTagName(\"li\");\r\n\t\t\t\t$array.each(items, (item) => {\r\n\t\t\t\t\tconst regex = new RegExp(search || \"\", \"i\");\r\n\t\t\t\t\tif (!search || item.innerText.match(regex)) {\r\n\t\t\t\t\t\titem.style.display = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\titem.style.display = \"none\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic addItem(info: IDropdownListItem): void {\r\n\t\tconst list = this.getPrivate(\"list\")!;\r\n\t\tconst item = document.createElement(\"li\");\r\n\t\titem.className = \"am5stock-list-item\";\r\n\t\titem.setAttribute(\"title\", info.subLabel || info.label);\r\n\r\n\t\tif (info.className) {\r\n\t\t\titem.className += \" \" + info.className;\r\n\t\t}\r\n\r\n\t\tif (info.icon) {\r\n\t\t\titem.appendChild(info.icon);\r\n\t\t}\r\n\r\n\t\tlet inputId: string | undefined;;\r\n\t\tif (info.form) {\r\n\t\t\tconst input: HTMLInputElement = document.createElement(\"input\");\r\n\t\t\tinputId = \"am5stock-list-\" + info.id;\r\n\t\t\tinput.type = info.form;\r\n\t\t\tif (info.value) {\r\n\t\t\t\tinput.value = info.value;\r\n\t\t\t}\r\n\t\t\tif (info.form == \"radio\") {\r\n\t\t\t\tinput.name = info.id;\r\n\t\t\t\tinputId +=  \"-\" + info.value;\r\n\t\t\t}\r\n\t\t\tif (info.checked) {\r\n\t\t\t\tinput.checked = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinput.id = inputId;\r\n\r\n\t\t\tthis._disposers.push($utils.addEventListener(item, \"click\", (ev) => {\r\n\t\t\t\t//ev.preventDefault();\r\n\t\t\t\tif (ev.target !== input) {\r\n\t\t\t\t\tinput.checked = !input.checked;\r\n\t\t\t\t}\r\n\t\t\t\tthis.events.dispatch(\"changed\", {\r\n\t\t\t\t\ttype: \"changed\",\r\n\t\t\t\t\titem: info,\r\n\t\t\t\t\tvalue: input.checked,\r\n\t\t\t\t\tchecked: input.checked,\r\n\t\t\t\t\ttarget: this\r\n\t\t\t\t});\r\n\t\t\t}));\r\n\r\n\t\t\titem.appendChild(input);\r\n\t\t}\r\n\r\n\t\tconst label = document.createElement(\"label\");\r\n\t\tlabel.innerHTML = info.label;\r\n\t\tif (info.label == \"\") {\r\n\t\t\tlabel.style.display = \"none\";\r\n\t\t}\r\n\t\titem.appendChild(label);\r\n\r\n\t\tif (info.subLabel) {\r\n\t\t\tconst subLabel = document.createElement(\"label\");\r\n\t\t\tsubLabel.className = \"am5stock-list-sub\";\r\n\t\t\tsubLabel.innerHTML = info.subLabel;\r\n\t\t\titem.appendChild(subLabel);\r\n\t\t}\r\n\r\n\t\tlist.appendChild(item);\r\n\r\n\t\t// Add click event\r\n\t\tif (info.disabled) {\r\n\t\t\titem.className += \" am5stock-disabled\";\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._disposers.push($utils.addEventListener(item, \"click\", (_ev) => {\r\n\t\t\t\tthis.hide();\r\n\t\t\t\tthis.events.dispatch(\"invoked\", {\r\n\t\t\t\t\ttype: \"invoked\",\r\n\t\t\t\t\titem: info,\r\n\t\t\t\t\ttarget: this\r\n\t\t\t\t});\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic hide(): void {\r\n\t\tsuper.hide();\r\n\t\tthis._filterItems();\r\n\t\tlet searchBox = this.getPrivate(\"search\");\r\n\t\tif (searchBox) {\r\n\t\t\tconst inputs = searchBox.getElementsByTagName(\"input\");\r\n\t\t\tlet isCustomSearch = false;\r\n\t\t\t$array.each(inputs, (input) => {\r\n\t\t\t\tif (input.value !== \"\") {\r\n\t\t\t\t\tisCustomSearch = true;\r\n\t\t\t\t\tinput.value = \"\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (this.get(\"searchCallback\") && isCustomSearch) {\r\n\t\t\t\tthis._initItems();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}"]}